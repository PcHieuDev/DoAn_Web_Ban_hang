var msgTransfers="Quý khách vui lòng chọn hình thức chuyển khoản";var msgRemoveCartItem="Bạn muốn xóa sản phẩm này";var msgRemoveAddress="Qúy khách muốn xóa địa chỉ này";var msgRemoveAll="Quý khách muốn xóa tất cả giỏ hàng";var msgCancelOrder="Bạn có chắc chắn muốn hủy đơn hàng này";var msgRemoveToWishList="Bạn có chắc chắn muốn xóa sản phẩm này khỏi yêu thích";var msgDialog="Thông báo";var msgSizeandColor="Vui lòng chọn màu sắc hoặc kích cỡ";var msgColor="Vui lòng chọn màu trước";var msgOutofStock="Sản phẩm tạm thời hết hàng";var msgSignin="Đăng nhập để thực hiện chức năng này";var msgWishlisted="Đã yêu thích";var msgAddToCartSuccess="Đã thêm sản phẩm vào giỏ hàng";var msgOrderSuccess="Bạn đã đặt hàng thành công";var msgClose="Đóng";var msgViewCart="Xem giỏ hàng";var msgSizeColorProduct="Bạn chưa chọn màu sắc hoặc size hoặc sản phẩm tạm thời đang hết hàng ";var msgContact="Liên hệ";var msgContactLater="Liên hệ sau";var msgStarRate="Quý khách vui lòng chọn đánh giá (số sao)";var msgRateProduct="Đánh giá sản phẩm";var msgSearchProduct="Tìm kiếm sản phẩm bạn muốn mua tại đây";var msgSelectBank="Vui lòng chọn ngân hàng bạn sẽ thanh toán";var msgSelected="Bạn đã chọn";var msgAccept="Đồng ý";var msgCancel="Hủy";var msgAnotherAction="Xin vui lòng xóa khỏi giỏ hàng hoặc mua các sản phẩm khác";var msgDiscountCode="Mã giảm giá không chính xác";var msgChoosePaymentMethod="Bạn chưa chọn hình thức thanh toán";var msgSuccessNewsletter="Đăng ký nhận email khuyến mại thành công!";var msgMaximumQuantity="Bạn chỉ có thể mua tối đa";var msgMinimumQuantity="Bạn chỉ có thể mua tối thiểu";var msgCompleteOrder="Bạn có muốn thanh toán đơn hàng";var msgInvalidMobile="Số điện thoại không hợp lệ";var msgInvalidCoupoint="Mã giảm giá không chính xác hoặc đã hết hạn";var msgAddToWishList="Sản phẩm đã được thêm vào yêu thích";var msgRemoveForWishList="Sản phẩm đã được xóa khỏi yêu thích";var msgCheckCouponValid="Vui lòng nhập mã giảm giá";var msgCheckCouponError="Mã giảm giá không đúng hoặc đã hết hạn";var msgNotInformationError="Xin vui lòng nhập thông tin";var msgOurPolicy="Vui lòng đồng ý với chính sách của chúng tôi";var txtTitle="Quý khách vui lòng nhập tiêu đề nhận xét cho sản phẩm này";var txtComment="Quý khách vui lòng bình luận cho sản phẩm (Tối thiểu 30 ký tự)";var txtDigitComment=" ký tự";var txtCoupon="Mã giảm giá";var txtOutofStock="Hết hàng";var txtAuthor="Tác giả";var txtPublishingHouse="Nhà xuất bản";var txtProvider="Nơi phát hành";var txtCart="Giỏ hàng";var txtBuyMore="Mua thêm";var txtCheckout="Thanh toán";var txtInCategory=" trong danh mục";var txtPrice="Giá";var txtNextLabel="Tiếp";var txtPrevLabel="Sau";var txtSkipLabel="Bỏ qua";var txtDoneLabel="Xong";var txtBuyer=" người mua ";var txtAcept="Chắc chắn rồi";var txtDenied="Không, tôi nhầm";var txtBaoKimAccount="Tài khoản Bảo Kim";var txtBalanceMoney="Số dư tiền thưởng";var txtHour="Giờ";var txtMinute="Phút";var txtSeconds="Giây";var txtQuickView="Xem nhanh";var txtContinueShop="Tiếp tục mua hàng";var txtProduct="sản phẩm";var txtSelectSize="Chọn kích cỡ";var txtPoint="Điểm";var txtProcessing="Đang xử lý";var txtOnly="Còn";var ChooseAnotherShip="Chọn hãng vận chuyển khác";var ChooseShip="Chọn hãng vận chuyển";var Firm="Hãng";var Postage="Cước phí";var SelfConnection="Cước tự kết nối";;var sync1=$("#sync1");var sync2=$("#sync2");var slidesPerPage=4;var syncedSecondary=true;function syncPosition(el){var count=el.item.count-1;var current=Math.round(el.item.index-(el.item.count/2)-.5);if(current<0){current=count;}
if(current>count){current=0;}
sync2.find(".owl-item").removeClass("current").eq(current).addClass("current");var onscreen=sync2.find('.owl-item.active').length-1;var start=sync2.find('.owl-item.active').first().index();var end=sync2.find('.owl-item.active').last().index();if(current>end){sync2.data('owl.carousel').to(current,100,true);}
if(current<start){sync2.data('owl.carousel').to(current-onscreen,100,true);}}
function syncPosition2(el){if(syncedSecondary){var number=el.item.index;sync1.data('owl.carousel').to(number,100,true);}}
var dots=false;var stagePadding=0;if($(window).width()<768){dots=true;stagePadding=50;}
sync1.owlCarousel({items:1,smartSpeed:1000,nav:true,autoplay:true,autoplayHoverPause:true,dots:dots,loop:true,responsiveRefreshRate:200,navText:['<i class="fas fa-caret-left" aria-hidden="true"></i>','<i class="fas fa-caret-right" aria-hidden="true"></i>'],}).on('changed.owl.carousel',syncPosition);sync2.on('initialized.owl.carousel',function(){sync2.find(".owl-item").eq(0).addClass("current");}).owlCarousel({items:slidesPerPage,responsive:{0:{items:2},480:{items:2},768:{items:4},1000:{items:4}},dots:false,nav:false,margin:5,smartSpeed:1000,slideBy:slidesPerPage,navText:['<i class="fas fa-caret-left" aria-hidden="true"></i>','<i class="fas fa-caret-right" aria-hidden="true"></i>'],responsiveRefreshRate:100}).on('changed.owl.carousel',syncPosition2);sync2.on("click",".owl-item",function(e){e.preventDefault();var number=$(this).index();sync1.data('owl.carousel').to(number,300,true);});$(document).ready(function(){if($('.content .lr-slider').length){$('.lr-slider').owlCarousel({nav:true,margin:5,dots:false,navText:['<i class="fas fa-caret-left" aria-hidden="true"></i>','<i class="fas fa-caret-right" aria-hidden="true"></i>'],items:1,stagePadding:stagePadding,responsive:{0:{items:2},580:{items:2,},768:{items:4,},1200:{items:5,},}});}
if($('.testimonial .testimonial-slider').length){$('.testimonial-slider').owlCarousel({nav:true,margin:5,dots:false,navText:['<i class="fas fa-caret-left" aria-hidden="true"></i>','<i class="fas fa-caret-right" aria-hidden="true"></i>'],items:1,responsive:{0:{items:1},580:{items:1,},768:{items:1,},1200:{items:2,},}});}
$(window).scroll(function(){var scroll=$(window).scrollTop();if($(window).width()<768){if(scroll){$('body').addClass('scroll-mb');}else{$('body').removeClass('scroll-mb');}}else{if(scroll>200){$('body').addClass('scroll');}else{$('body').removeClass('scroll');}}});$('.logo .menu').on('click',function(e){$('.sidebar').addClass('active');});$('.sidebar .close').on('click',function(e){$(this).parent().removeClass('active');});if($('.endDateTime').length){var countDownDate=new Date($('.endDateTime').val()).getTime();var x=setInterval(function(){var now=new Date().getTime();var distance=countDownDate-now;var days=Math.floor(distance/(1000*60*60*24));var hours=Math.floor((distance%(1000*60*60*24))/(1000*60*60));var minutes=Math.floor((distance%(1000*60*60))/(1000*60));var seconds=Math.floor((distance%(1000*60))/1000);var daysSplit=(""+days).split(""),hoursSplit=(""+hours).split(""),minutesSplit=(""+minutes).split("");if(daysSplit[1]==null){$(".days").html(0);$(".days2").html(daysSplit[0]);}else{$(".days").html(daysSplit[0]);$(".days2").html(daysSplit[1]);}
if(hoursSplit[1]==null){$(".hours").html(0);$(".hours2").html(hoursSplit[0]);}else{$(".hours").html(hoursSplit[0]);$(".hours2").html(hoursSplit[1]);}
if(minutesSplit[1]==null){$(".mins").html(0);$(".mins2").html(minutesSplit[0]);}else{$(".mins").html(minutesSplit[0]);$(".mins2").html(minutesSplit[1]);}},1000);}
if($('.homeProductCategory').length){ajaxLoadView({view:'homeProductCategory',delay:'500',onSuccess:function(rs){$('.homeProductCategory').html(rs);}});}
$('#btnSignup').on('click',function(){signupModal();});$('#btnSignup2').on('click',function(){signupPage();});$('#btnsignin').on('click',function(e){e.preventDefault();signinModal();});$('#btnsignin2').on('click',function(e){e.preventDefault();signinPage();});$(document).on('click','.menu-list-mb li i',function(e){$(this).parent().toggleClass('open').find('.custom-wrap').slideToggle();});if($('.banner-news').length){$('.slide-news').owlCarousel({dots:false,items:1,animateIn:'fadeIn',animateOut:'fadeOut',autoPlay:true,autoplayTimeout:2000,smartSpeed:1000,loop:true,});}
if($('.news-product-like').length){$('.col-content').owlCarousel({dots:false,nav:true,navText:['<i class="fal fa-chevron-left"></i>','<i class="fal fa-chevron-right"></i>'],margin:10,items:1,responsive:{0:{items:2},580:{items:2,},768:{items:3,},1200:{items:3,},}});}
if($('.slide-related-news').length){var el=$('.slide-related-news');var carousel;var carouselOptions={margin:20,nav:true,dots:false,slideBy:'page',responsive:{0:{items:1,rows:6},768:{items:2,rows:3},991:{items:3,rows:2}}};var viewport=function(){var width;if(carouselOptions.responsiveBaseElement&&carouselOptions.responsiveBaseElement!==window){width=$(carouselOptions.responsiveBaseElement).width();}else if(window.innerWidth){width=window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){width=document.documentElement.clientWidth;}else{console.warn('Can not detect viewport width.');}
return width;};var severalRows=false;var orderedBreakpoints=[];for(var breakpoint in carouselOptions.responsive){if(carouselOptions.responsive[breakpoint].rows>1){severalRows=true;}
orderedBreakpoints.push(parseInt(breakpoint));}
if(severalRows){orderedBreakpoints.sort(function(a,b){return b-a;});var slides=el.find('[data-slide-index]');var slidesNb=slides.length;if(slidesNb>0){var rowsNb;var previousRowsNb=undefined;var colsNb;var previousColsNb=undefined;var updateRowsColsNb=function(){var width=viewport();for(var i=0;i<orderedBreakpoints.length;i++){var breakpoint=orderedBreakpoints[i];if(width>=breakpoint||i==(orderedBreakpoints.length-1)){var breakpointSettings=carouselOptions.responsive[''+breakpoint];rowsNb=breakpointSettings.rows;colsNb=breakpointSettings.items;break;}}};var updateCarousel=function(){updateRowsColsNb();if(rowsNb!=previousRowsNb||colsNb!=previousColsNb){var reInit=false;if(carousel){carousel.trigger('destroy.owl.carousel');carousel=undefined;slides=el.find('[data-slide-index]').detach().appendTo(el);el.find('.fake-col-wrapper').remove();reInit=true;}
var perPage=rowsNb*colsNb;var pageIndex=Math.floor(slidesNb/perPage);var fakeColsNb=pageIndex*colsNb+(slidesNb>=(pageIndex*perPage+colsNb)?colsNb:(slidesNb%colsNb));var count=0;for(var i=0;i<fakeColsNb;i++){var fakeCol=$('<div class="fake-col-wrapper"></div>').appendTo(el);for(var j=0;j<rowsNb;j++){var index=Math.floor(count/perPage)*perPage+(i%colsNb)+j*colsNb;if(index<slidesNb){slides.filter('[data-slide-index='+index+']').detach().appendTo(fakeCol);}
count++;}}
previousRowsNb=rowsNb;previousColsNb=colsNb;if(reInit){carousel=el.owlCarousel(carouselOptions);}}};$(window).on('resize',updateCarousel);updateCarousel();}}
carousel=el.owlCarousel(carouselOptions);}
$(document).on('click','.icon-bar',function(e){$('body').toggleClass('open_drawer');});$(document).on('click','.icon-search',function(e){$('body').toggleClass('open_search');});$('.close-menu').click(function(e){$('body').removeClass('open_drawer');});$('.td-search-close i').click(function(e){$('body').removeClass('open_search');});$(document).on('click','.menu-mobile li i',function(e){$(this).parent().toggleClass('open').find('.sub-menu').slideToggle();});$(document).on('click','.border',function(e){$('body').addClass('no-scroll');$(this).addClass('no-shadow');});$(document).on('click','.search-bg',function(e){$('body').removeClass('no-scroll');$('.border').removeClass('no-shadow');$('.searchFolding').removeClass('no-shadow');$('.searchFolding').css('display','none');});var search=$('form.formSearchSuggest input[name="q"]'),limit=10;search.autocomplete({source:function(){var s=$('.searchFolding');s.slideDown();$.post('/search/suggestion?q='+search.val()+'&limit='+limit+'&showMore=category',function(data){s.empty();if(data.products){$.each(data.products,function(i,p){let img='';if(p.thumbnail){img='<img class="" src="'+p.thumbnail+'" alt="'+p.name+'">';}
s.append('<a href="'+p.viewLink+'">'+'<div class="item_img_search">'+img+'</div>'+'<div class="item_search_detail">'+'<p>'+p.name+'</p> <p>Giá: <b>'+$.number(p.price)+'đ</b></p>'+'</div>'+'</a>');});}});}});search.keyup(function(){if(!$(this).val().length){$('.searchFolding').slideUp();}
$('.searchFolding').addClass('no-shadow');}).focus(function(){if($(this).val().length){$('.searchFolding').slideDown();}else{$(this).attr('placeholder','');}}).focusout(function(){if(!jQuery('.searchFolding a').click){if(!$(this).val().length){$(this).attr('placeholder',msgSearchProduct).val('');}
$('.searchFolding').slideUp();}});$('#contactFormSubmit').click(function(e){e.preventDefault();AppAjax.post('/newsletter/subscribe',{'mail':$('#contactFormEmail').val()},function(rs){if(rs.code){$('#contactFormEmail').val('');}
alert(rs.message);});});var popupBanner=$('#popup-banner');if(popupBanner.length){setTimeout(function(){popupBanner.modal('toggle');},3000);}});function signupModal(){$.ajax({type:"POST",data:$("#formSignUp").serialize(),cache:false,dataType:'json',url:"/user/ajaxsignup",success:function(rs){if(rs.code){alert('Bạn đã đăng ký thành công');}else{alert('Bạn chưa đăng ký thành công');}}});}
function signupPage(){$.ajax({type:"POST",data:$("#formSignUp2").serialize(),cache:false,dataType:'json',url:"/user/ajaxsignup",success:function(rs){if(rs.code){alert('Bạn đã đăng ký thành công');}else{alert('Bạn chưa đăng ký thành công');}}});}
function signinModal(){if($("#formAcount")){AppAjax.post("/user/ajaxsignin",{'username':$('#emailModal').val(),'password':$('#passwordModal').val(),},function(rs){if(rs.code==1){alert('Bạn đã đăng nhập thành công');location.href="/";}else{alert('Tên đăng nhập hoặc mật khẩu ko chính xác');}},'json');}}
function signinPage(){if($("#formAcount2")){AppAjax.post("/user/ajaxsignin",{'username':$('#emailPage').val(),'password':$('#passwordPage').val(),},function(rs){if(rs.code==1){alert('Bạn đã đăng nhập thành công');location.href="/";}else{alert('Tên đăng nhập hoặc mật khẩu ko chính xác');}},'json');}}